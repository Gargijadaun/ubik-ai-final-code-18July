<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UBIK Client Communication Challenge</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .header {
            background-color: #ffffff;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .header-logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .header-logo span {
            color: #E91E63;
        }

        .chat-container {
            max-width: 100%;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .chat-area {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .instruction-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
            box-sizing: border-box;
        }

        .instruction-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 20px;
            width: 100%;
            box-sizing: border-box;
        }

        .step-content {
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .step-content h3 {
            margin-top: 0;
            line-height: 1.5;
        }

        .instruction-step {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .instruction-step:last-child {
            border-bottom: none;
        }

        .step-title {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .step-number {
            background-color: #E91E63;
            color: white;
            width: 34px;
            height: 34px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .feature-card {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 15px;
            border-left: 4px solid #E91E63;
            word-wrap: break-word;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .btn-container {
            display: flex;
            justify-content: center;
            width: 100%;
            margin: 30px 0;
        }

        .start-quiz-btn {
            background-color: #E91E63;
            color: white;
            padding: 14px 28px;
            border-radius: 8px;
            font-weight: bold;
            display: block;
            width: 100%;
            max-width: 300px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(233, 30, 99, 0.2);
        }

        .start-quiz-btn:hover {
            background-color: #C2185B;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(233, 30, 99, 0.3);
        }
        
        .question-example {
            background-color: #FCE4EC;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            border-left: 4px solid #E91E63;
            font-style: italic;
        }
        
        .highlight {
            color: #E91E63;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .instruction-container {
                padding: 10px;
            }
            
            .instruction-card {
                padding: 20px;
            }
            
            .step-title {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <header class="header">
            <div class="header-title">
                <div class="header-logo">UBIK <span>SOLUTIONS</span></div>
            </div>
        </header>

        <main class="chat-area" id="chatArea">
            <!-- Instruction Section -->
            <div id="instructionSection" class="instruction-container">
                <div class="instruction-card">
                    <h1 class="text-2xl font-bold mb-4 text-center">Client Communication Challenge</h1>
                    <p class="text-gray-700 mb-6 text-center">Get ready to sharpen how you think and speak when doctors ask you tough questions.</p>
                    
                    <h2 class="text-xl font-semibold mb-4">Why This Quiz Matters</h2>
                    
                    <p class="mb-4">Every day, doctors ask us questions that aren't always easy to answer on the spot:</p>
                    
                    <div class="question-example">
                        "How is your product different from others?"
                    </div>
                    
                    <div class="question-example">
                        "Why should I keep your product in my clinic?"
                    </div>
                    
                    <div class="question-example">
                        "What makes Ubik better than other companies?"
                    </div>
                    
                    <div class="question-example">
                        "How do I know your product is safe and effective?"
                    </div>
                    
                    <p class="mt-4">These are not just questions ‚Äî they're real tests of your knowledge, confidence, and clarity. This quiz helps you prepare for those moments, so you don't just say something ‚Äî you say the right thing.</p>
                    
                    <h2 class="text-xl font-semibold mb-4 mt-8">Here's How It Works</h2>
                    
                    <div class="instruction-step">
                        <div class="step-title">
                            <div class="step-number">1</div>
                            <h3 class="font-medium text-lg">You'll answer 5 practical questions</h3>
                        </div>
                        <p class="text-gray-700">Each one is based on what doctors or customers might ask in real situations ‚Äî product comparison, trust-building, ingredients, pricing, or collaboration.</p>
                    </div>
                    
                    <div class="instruction-step">
                        <div class="step-title">
                            <div class="step-number">2</div>
                            <h3 class="font-medium text-lg">AI checks your answer</h3>
                        </div>
                        <p class="text-gray-700">Once you submit your answer (text or voice), our Derma AI system will score it and give feedback. It tells you:</p>
                        <ul class="list-disc ml-8 mt-2">
                            <li>What you did well</li>
                            <li>What you missed</li>
                            <li>What could make your answer stronger</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-step">
                        <div class="step-title">
                            <div class="step-number">3</div>
                            <h3 class="font-medium text-lg">You get the ideal response</h3>
                        </div>
                        <p class="text-gray-700">You'll also see the best way to answer the question ‚Äî so you can compare, learn, and remember for next time.</p>
                    </div>
                    
                    <h2 class="text-xl font-semibold mb-4 mt-8">Features That Make This Easy to Use</h2>
                    
                    <div class="feature-card">
                        <h3 class="font-medium">üéôÔ∏è Voice Answering Option</h3>
                        <p class="text-gray-700">You can speak your answers. The system will convert your voice to text and give you feedback like a real coach.</p>
                    </div>
                    
                    <div class="feature-card">
                        <h3 class="font-medium">üîä Listen to the Questions</h3>
                        <p class="text-gray-700">If you prefer listening, you can have the question read out loud in a clear voice ‚Äî just like you're talking to a doctor.</p>
                    </div>
                    
                    <div class="feature-card">
                        <h3 class="font-medium">üí° Skip & Learn</h3>
                        <p class="text-gray-700">Stuck on a question? Skip it. You'll still get the correct answer to learn from.</p>
                    </div>
                    
                    <div class="feature-card">
                        <h3 class="font-medium">üìä Personal Feedback Plan</h3>
                        <p class="text-gray-700">After you finish, you'll get clear, simple suggestions on how to improve ‚Äî whether it's product facts, confidence, or how you explain benefits.</p>
                    </div>
                    
                    <h2 class="text-xl font-semibold mb-4 mt-8">Before You Start</h2>
                    <p class="text-gray-700 mb-6">Think of this as a learning practice, not an exam. No pressure, just growth. The more you do it, the better you'll get.</p>
                    
                    <div class="btn-container">
                        <a href="/quiz" class="start-quiz-btn">
                            Begin Challenge
                        </a>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.start-quiz-btn').addEventListener('click', function(e) {
                e.preventDefault();
                
                this.textContent = "Loading Challenge...";
                this.style.backgroundColor = "#C2185B";
                
                // Get current URL parameters
                const urlParams = new URLSearchParams(window.location.search);
                
                // Fetch to check if /quiz route is accessible
                fetch('/quiz', { method: 'GET' })
                    .then(res => {
                        if (!res.ok) {
                            throw new Error(`Failed to access quiz: ${res.status}`);
                        }
                        // Redirect to /quiz with parameters
                        setTimeout(() => {
                            window.location.href = '/quiz' + (urlParams.toString() ? '?' + urlParams.toString() : '');
                        }, 300);
                    })
                    .catch(err => {
                        console.error('Error accessing /quiz:', err);
                        alert('Error loading quiz page. Please try again.');
                        this.textContent = "Begin Challenge";
                        this.style.backgroundColor = "#E91E63";
                    });
            });
        });
    </script>
</body>
</html>